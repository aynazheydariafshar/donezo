"use strict";(()=>{var e={};e.id=44,e.ids=[44],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},28434:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>j,patchFetch:()=>w,requestAsyncStorage:()=>f,routeModule:()=>h,serverHooks:()=>y,staticGenerationAsyncStorage:()=>v});var a={};t.r(a),t.d(a,{DELETE:()=>c,GET:()=>m,POST:()=>g});var i=t(57424),s=t(61413),o=t(11032),n=t(24946),u=t(82306),d=t(57147),x=t.n(d),p=t(17438);let l=(0,n.v)("board.json"),m=async()=>{let e=await (0,u.h)(l);return p.NextResponse.json(e)},g=async e=>{let r=await e.json();if(!r.title||!r.imageUserName||!r.imageId||!r.imageThumbUrl||!r.imageFullUrl||!r.imageLinkHtml||!r.orgId)return p.NextResponse.json({error:"bad request"},{status:403});let t=await (0,u.h)(l),a={...r,id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=16*Math.random()|0;return("x"==e?r:3&r|8).toString(16)}),title:r.title,imageUserName:r.imageUserName,imageId:r.imageId,imageThumbUrl:r.imageThumbUrl,imageFullUrl:r.imageFullUrl,imageLinkHtml:r.imageLinkHtml,orgId:r.orgId},i=[...t,a];return await x().writeFileSync(l,JSON.stringify(i)),p.NextResponse.json(a)},c=async e=>{let{id:r}=await e.json();if(!r)return p.NextResponse.json({error:"ID is required"},{status:400});let t=await (0,u.h)(l),a=t.filter(e=>e.id!==r);return a.length===t.length?p.NextResponse.json({error:"Board not found"},{status:404}):(await x().writeFileSync(l,JSON.stringify(a)),p.NextResponse.json({message:"Board deleted successfully",id:r}))},h=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/boards/route",pathname:"/api/boards",filename:"route",bundlePath:"app/api/boards/route"},resolvedPagePath:"/home/aynaz/Desktop/donezo/src/app/api/boards/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:f,staticGenerationAsyncStorage:v,serverHooks:y}=h,j="/api/boards/route";function w(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:v})}},57424:(e,r,t)=>{e.exports=t(30517)},24946:(e,r,t)=>{t.d(r,{v:()=>s});var a=t(71017),i=t.n(a);function s(e){let r=i().join(process.cwd(),"src/app/db");return i().join(r,e)}},82306:(e,r,t)=>{t.d(r,{h:()=>s});var a=t(57147),i=t.n(a);async function s(e){if(!e)throw Error("No directory provided");return JSON.parse(await i().promises.readFile(e,"utf8"))}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[683,438],()=>t(28434));module.exports=a})();