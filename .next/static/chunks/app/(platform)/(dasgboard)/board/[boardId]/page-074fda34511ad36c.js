(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{8157:function(e,t,r){Promise.resolve().then(r.bind(r,6411))},9172:function(e,t,r){"use strict";r.d(t,{A:function(){return y}});var s=r(6764),a=r(3508),i=r(3713),n=r(7481),l=r(6806),d=r(7528),o=r(2049);let c=l.fC,u=l.xz,f=l.h_,m=l.x8,p=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});p.displayName=l.aV.displayName;let v=n.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(f,{children:[(0,s.jsx)(p,{}),(0,s.jsxs)(l.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[a,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});v.displayName=l.VY.displayName;let x=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};x.displayName="DialogHeader";let h=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};h.displayName="DialogFooter";let g=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});g.displayName=l.Dx.displayName;let b=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})});function y(e){let{data:t,children:r,deleteClickFunc:n,name:l}=e,d=(0,a.useTranslations)();return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{asChild:!0,children:r}),(0,s.jsxs)(v,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(x,{className:"flex flex-col justify-start items-start mx-4",children:[(0,s.jsxs)(g,{children:[" ",d("delete-".concat(l))]}),(0,s.jsx)(b,{children:d("are-you-sure-you-want-delete-this-".concat(l,"-action-cannot-be-undone"))})]}),(0,s.jsxs)(h,{className:"sm:justify-start flex gap-2",children:[(0,s.jsx)(m,{asChild:!0,children:(0,s.jsx)(i.z,{type:"button",variant:"secondary",children:d("close")})}),(0,s.jsx)(i.z,{type:"button",variant:"destructive",onClick:n,children:d("confirm-delete")})]})]})]})}b.displayName=l.dk.displayName},3889:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});var s=r(6764),a=r(3508),i=r(6739);function n(e){let{id:t,errors:r}=e,n=(0,a.useTranslations)();return r?(0,s.jsx)("div",{id:"".concat(t,"-error"),"aria-live":"polite",className:"text-xs mt-2 text-red-500",children:null==r?void 0:r.map(e=>(0,s.jsxs)("div",{className:"flex items-center font-medium p-2 border border-red-500 bg-rose-500/10 rounded-sm",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mx-1"}),n(e)]},e))}):null}},7236:function(e,t,r){"use strict";r.d(t,{y:function(){return f}});var s=r(6764),a=r(2049),i=r(8474),n=r(7481);let l=n.forwardRef((e,t)=>{let{className:r,type:i,...n}=e;return(0,s.jsx)("input",{type:i,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});l.displayName="Input";var d=r(3889),o=r(174);let c=(0,r(3935).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(o.f,{ref:t,className:(0,a.cn)(c(),r),...i})});u.displayName=o.f.displayName;let f=(0,n.forwardRef)((e,t)=>{let{id:r,label:n,placeholder:o,disabled:c,required:f,type:m,errors:p,className:v,defaultValue:x="",onBlur:h}=e,{pending:g}=(0,i.useFormStatus)();return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[n?(0,s.jsx)(u,{className:"text-sm font-medium text-black dark:text-white",htmlFor:r,children:n}):null,(0,s.jsx)(l,{onBlur:h,name:r,defaultValue:x,id:r,placeholder:o,disabled:g||c,required:f,type:m,className:(0,a.cn)("text-sm px-2 py-1 h-9",v),ref:t,"aria-describedby":"".concat(r,"-error")})]}),(0,s.jsx)(d.X,{id:r,errors:p})]})});f.displayName="FormInput"},9019:function(e,t,r){"use strict";r.d(t,{O:function(){return l}});var s=r(6764),a=r(8474),i=r(2049),n=r(3713);function l(e){let{disabled:t,className:r,variant:l,children:d}=e,{pending:o}=(0,a.useFormStatus)();return(0,s.jsx)(n.z,{size:"sm",className:(0,i.cn)(r),variant:l,disabled:o||t,type:"submit",children:d})}},6432:function(e,t,r){"use strict";r.d(t,{Am:function(){return u},pm:function(){return f}});var s=r(7481);let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},3713:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var s=r(6764),a=r(7481),i=r(4539),n=r(3935),l=r(2049);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(function(e,t){let{className:r,variant:a,size:n,asChild:o=!1,...c}=e,u=o?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:a,size:n,className:r})),ref:t,...c})});o.displayName="Button"},6411:function(e,t,r){"use strict";r.d(t,{ListContainer:function(){return Q}});var s=r(6764),a=r(6432),i=r(6929),n=r(1686);let l=n.z.object({title:n.z.string({required_error:"title-is-required",invalid_type_error:"title-is-invalid-type"}).min(3,{message:"minimum-length-3-letters"}),boardId:n.z.string(),id:n.z.string(),description:n.z.string().optional()});async function d(e){try{return(await i.Z.get("/api/list/board/".concat(e))).data}catch(e){(0,a.Am)({description:"Failed to get lists",variant:"destructive"})}}let o=async e=>{let t=e.get("title"),r=e.get("description"),s=e.get("order"),n=e.get("boardId");try{return(await i.Z.post("/api/list",{title:t,description:r,order:s,boardId:n})).data}catch(e){throw(0,a.Am)({description:"Failed to create a new list",variant:"destructive"}),Error("Failed")}};async function c(e,t){try{return(await i.Z.patch("/api/list/".concat(e),t)).data}catch(e){(0,a.Am)({description:"Failed to edit a list",variant:"destructive"})}}async function u(e,t){try{return(await i.Z.put("/api/list/".concat(e),t)).data}catch(e){(0,a.Am)({description:"Failed to edit a list",variant:"destructive"})}}async function f(e){try{return(await i.Z.delete("/api/list/".concat(e))).data}catch(e){(0,a.Am)({description:"Failed to delete a list",variant:"destructive"})}}var m=r(7236),p=r(9019),v=r(3713),x=r(2063),h=r(6367),g=r(7528),b=r(8310),y=r(3508),j=r(2761),N=r(7481);let w=e=>{let{children:t}=e;return(0,s.jsx)("li",{className:"shrink-0 max-h-[70vh] overflow-auto w-[272px] select-none bg-white dark:bg-black bg-opacity-35 dark:bg-opacity-75 p-4 rounded-md",children:t})};function A(){let e=(0,j.useParams)(),t=(0,y.useTranslations)(),[r,i]=(0,N.useState)(!1),n=(0,x.NL)(),d=(0,N.useRef)(null),c=(0,N.useRef)(null),u=(0,h.D)({mutationFn:e=>o(e),onSuccess:e=>{n.invalidateQueries({queryKey:["list"]}),i(!1),(0,a.Am)({description:t("your-list-has-been-created-successfully")})},onError:()=>{(0,a.Am)({description:t("database-error"),variant:"destructive"})}});return r?(0,s.jsx)(w,{children:(0,s.jsxs)("form",{ref:d,className:"w-full",onSubmit:r=>{r.preventDefault();let s=new FormData(r.target),i=s.get("title"),n=l.pick({title:!0}).safeParse({title:i});if(!n.success){var d,o,c;(0,a.Am)({description:t(null===(c=n.error)||void 0===c?void 0:null===(o=c.flatten().fieldErrors)||void 0===o?void 0:null===(d=o.title)||void 0===d?void 0:d[0]),variant:"destructive"});return}s.append("boardId",e.boardId),u.mutate(s)},children:[(0,s.jsx)(m.y,{ref:c,className:"focus-visible:outline-none focus-visible:ring-transparent",placeholder:t("list-title"),id:"title",type:"text"}),(0,s.jsxs)("div",{className:"flex gap-x-2 items-center my-2",children:[(0,s.jsx)(p.O,{children:t("add")}),(0,s.jsx)(v.z,{variant:"destructive",size:"sm",onClick:()=>i(!1),children:(0,s.jsx)(g.Z,{className:"w-4 h-4"})})]})]})}):(0,s.jsx)(w,{children:(0,s.jsxs)(v.z,{onClick:()=>{i(!0),setTimeout(()=>{var e,t;null===(e=c.current)||void 0===e||e.focus(),null===(t=c.current)||void 0===t||t.select()})},className:"w-full",children:[t("add-a-list"),(0,s.jsx)(b.Z,{className:"mx-2 h-5 w-5"})]})})}var k=r(5240),S=r(9172);function I(e){let{data:t}=e,r=(0,y.useTranslations)(),i=(0,x.NL)(),n=(0,h.D)({mutationFn:f,onSuccess:()=>{i.invalidateQueries({queryKey:["list"]}),(0,a.Am)({description:r("your-list-has-been-deleted-successfully")})},onError:e=>{(0,a.Am)({description:r("failed-to-delete-list"),variant:"destructive"})}});return(0,s.jsx)(S.A,{name:"list",data:t,deleteClickFunc:()=>n.mutate(t.id),children:(0,s.jsx)(v.z,{className:"hover:text-error-500 hover:bg-transparent",size:"sm",variant:"ghost",children:(0,s.jsx)(k.Z,{})})})}function z(e){let{data:t}=e,[r,i]=(0,N.useState)(!1),n=(0,N.useRef)(null),d=(0,N.useRef)(null),o=(0,x.NL)(),u=(0,y.useTranslations)(),f=(0,h.D)({mutationFn:e=>c(t.id,e),onSuccess:e=>{o.invalidateQueries({queryKey:["list"]}),i(!1),(0,a.Am)({description:u("your-list-has-been-edited-successfully")})},onError:()=>{(0,a.Am)({description:u("database-error"),variant:"destructive"})}});return r?(0,s.jsx)("form",{ref:n,className:"gap-3 flex items-center w-full",onSubmit:e=>{e.preventDefault();let r=new FormData(e.target).get("title"),s=l.pick({title:!0}).safeParse({title:r});if(!s.success){var n,d,o;(0,a.Am)({description:u(null===(o=s.error)||void 0===o?void 0:null===(d=o.flatten().fieldErrors)||void 0===d?void 0:null===(n=d.title)||void 0===n?void 0:n[0]),variant:"destructive"});return}if(t.title===r.trim()){i(!1);return}f.mutate({title:r})},children:(0,s.jsx)(m.y,{ref:d,onBlur:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.requestSubmit()},className:"focus-visible:outline-none focus-visible:ring-transparent",label:u("list-title"),id:"title",type:"text",defaultValue:t.title})}):(0,s.jsxs)("div",{className:"text-sm flex justify-between items-center w-full",children:[(0,s.jsx)("div",{children:(0,s.jsx)(v.z,{onClick:()=>{i(!0),setTimeout(()=>{var e,t;null===(e=d.current)||void 0===e||e.focus(),null===(t=d.current)||void 0===t||t.select()})},size:"sm",children:null==t?void 0:t.title})}),(0,s.jsx)("div",{children:(0,s.jsx)(I,{data:t})})]})}let T=n.z.object({title:n.z.string({required_error:"title-is-required",invalid_type_error:"title-is-invalid-type"}).min(3,{message:"minimum-length-3-letters"}),listId:n.z.string(),boardId:n.z.string(),id:n.z.string()});async function F(e){try{return(await i.Z.get("/api/card/".concat(e))).data}catch(e){(0,a.Am)({description:"Failed to get cards",variant:"destructive"})}}let E=async e=>{let t=e.get("title"),r=e.get("listId"),s=e.get("boardId");try{return(await i.Z.post("/api/card",{title:t,listId:r,boardId:s})).data}catch(e){throw(0,a.Am)({description:"Failed to create a new card",variant:"destructive"}),Error("Failed")}};async function D(e,t){try{return(await i.Z.patch("/api/card/".concat(e),t)).data}catch(e){(0,a.Am)({description:"Failed to edit a card",variant:"destructive"})}}async function _(e){try{return(await i.Z.delete("/api/card/".concat(e))).data}catch(e){(0,a.Am)({description:"Failed to delete a card",variant:"destructive"})}}var R=r(3889),Z=r(2049);let C=N.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,Z.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});C.displayName="Textarea";var q=r(7787);let O=(0,N.forwardRef)((e,t)=>{let{listId:r,enableEditing:i,disableEditing:n,isEditing:l}=e,d=(0,y.useTranslations)(),{isSignedIn:o}=(0,q.aF)(),c={message:null,errors:{title:[]}},u=(0,x.NL)(),[f,m]=(0,N.useState)(c),w=(0,N.useRef)(null),A=(0,j.useParams)(),k=(0,h.D)({mutationFn:E,onSuccess:e=>{var t;u.invalidateQueries({queryKey:["card",e.listId],exact:!0}),(0,a.Am)({description:d("a-new-card-has-been-created-successfully")}),m(c),n(),null===(t=w.current)||void 0===t||t.reset()},onError:()=>{(0,a.Am)({description:d("database-error"),variant:"destructive"})}});if(l){var S;return(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.target);t.append("listId",r),t.append("boardId",A.boardId);let s=T.pick({title:!0,boardId:!0,listId:!0}).safeParse({title:t.get("title"),listId:t.get("listId"),boardId:t.get("boardId")});if(!o){(0,a.Am)({description:d("unauthorized"),variant:"destructive"});return}if(!s.success){m({errors:s.error.flatten().fieldErrors,message:"missing-fields"});return}k.mutate(t)},className:"m-3 px-1",children:(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{className:"flex gap-1 flex-col",children:[(0,s.jsx)(C,{placeholder:d("enter-a-title-for-this-card"),id:"title",name:"title",ref:t}),(0,s.jsx)(R.X,{id:"title",errors:null==f?void 0:null===(S=f.errors)||void 0===S?void 0:S.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.O,{children:d("add-card")}),(0,s.jsx)(v.z,{onClick:()=>{n(),m(c)},size:"sm",variant:"destructive",children:(0,s.jsx)(g.Z,{className:"w-4 h-4"})})]})]})})})}return(0,s.jsx)("div",{className:"pt-2 px-2",children:(0,s.jsxs)(v.z,{size:"sm",variant:"ghost",onClick:i,className:"w-full my-1 text-sm justify-start",children:[(0,s.jsx)(b.Z,{className:"w-4 h-4 mx-1"}),d("add-card")]})})});O.displayName="CardForm";var P=r(7486);function K(e){let{card:t}=e,[r,i]=(0,N.useState)(!1),n=(0,N.useRef)(null),l=(0,N.useRef)(null),d=(0,x.NL)(),o=(0,y.useTranslations)(),c=(0,h.D)({mutationFn:e=>D(t.id,e),onSuccess:e=>{d.invalidateQueries({queryKey:["card",t.listId]}),i(!1),(0,a.Am)({description:o("your-card-has-been-edited-successfully")})},onError:()=>{(0,a.Am)({description:o("database-error"),variant:"destructive"})}}),u=(0,h.D)({mutationFn:_,onSuccess:e=>{d.invalidateQueries({queryKey:["card",t.listId]}),i(!1),(0,a.Am)({description:o("your-card-has-been-deleted-successfully")})},onError:()=>{(0,a.Am)({description:o("database-error"),variant:"destructive"})}}),f=()=>{i(!0),setTimeout(()=>{var e,t;null===(e=l.current)||void 0===e||e.focus(),null===(t=l.current)||void 0===t||t.select()})};return r?(0,s.jsx)("form",{ref:n,className:"flex items-center w-full",onSubmit:e=>{e.preventDefault();let r=new FormData(e.target).get("title"),s=T.pick({title:!0}).safeParse({title:r});if(!s.success){var n,l,d;(0,a.Am)({description:o(null===(d=s.error)||void 0===d?void 0:null===(l=d.flatten().fieldErrors)||void 0===l?void 0:null===(n=l.title)||void 0===n?void 0:n[0]),variant:"destructive"});return}if(t.title===r.trim()){i(!1);return}c.mutate({title:r})},children:(0,s.jsx)(m.y,{ref:l,onBlur:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.requestSubmit()},className:"focus-visible:outline-none focus-visible:ring-transparent",label:o("card-title"),defaultValue:t.title,id:"title",type:"text"})}):(0,s.jsxs)("div",{role:"button",onClick:e=>{e.stopPropagation(),f()},className:"truncate flex justify-between items-center my-1 bg-white bg-opacity-75 dark:bg-black dark:bg-opacity-95 border-2 border-transparent hover:border-black dark:hover:border-white py-1 px-3 text-sm rounded-md shadow-sm",children:[(0,s.jsx)("p",{children:t.title}),(0,s.jsx)(S.A,{name:"card",data:t,deleteClickFunc:()=>u.mutate(t.id),children:(0,s.jsx)(v.z,{onClick:e=>e.stopPropagation(),className:"hover:text-error-500 hover:bg-transparent",variant:"ghost",children:(0,s.jsx)(g.Z,{className:"w-4 h-4"})})})]})}var V=r(1336),L=r(7778);function M(e){let{list:t,index:r}=e,{data:a,error:i,isLoading:n}=(0,P.a)({queryKey:["card",t.id],queryFn:()=>F(t.id),enabled:!!t.id}),[l,d]=(0,N.useState)(!1),o=(0,N.useRef)(null),c=()=>{d(!0),setTimeout(()=>{var e,t;null===(e=o.current)||void 0===e||e.focus(),null===(t=o.current)||void 0===t||t.select()})},u=()=>{d(!1)};return(0,s.jsx)(L._l,{draggableId:t.id,index:r,children:e=>(0,s.jsx)("div",{ref:e.innerRef,...e.draggableProps,children:(0,s.jsx)(w,{children:(0,s.jsxs)("div",{...e.dragHandleProps,children:[(0,s.jsx)(z,{data:t}),(0,s.jsx)("ol",{className:((0,Z.cn)("mx-1 px-1 flex flex-col gap-y-2"),(null==a?void 0:a.length)>0?"mt-2":"mt-0"),children:null==a?void 0:a.map((e,t)=>(0,s.jsx)(K,{card:e},e.id))}),n?(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(V.Z,{className:"w-5 h-5 text-secondary-400 animate-spin"})}):(0,s.jsx)(O,{ref:o,listId:t.id,enableEditing:c,disableEditing:u,isEditing:l})]})})})})}function Q(e){let{boardId:t}=e,r=(0,y.useTranslations)(),{data:i,error:n,isLoading:l}=(0,P.a)({queryKey:["list",t],queryFn:()=>d(t),enabled:!!t}),o=(0,x.NL)(),c=(0,h.D)({mutationFn:e=>u(t,e),onSuccess:e=>{o.invalidateQueries({queryKey:["list"]})},onError:()=>{(0,a.Am)({description:r("database-error"),variant:"destructive"})}});return(0,s.jsx)(L.Z5,{onDragEnd:e=>{let{destination:t,source:r}=e;if(!t||t.droppableId===r.droppableId&&t.index===r.index)return;let s=function(e,t,r){let s=Array.from(e),[a]=s.splice(t,1);return s.splice(r,0,a),s}(i,r.index,t.index);c.mutate(s)},children:(0,s.jsx)(L.bK,{droppableId:"list",type:"list",direction:"horizontal",children:e=>(0,s.jsxs)("ol",{...e.droppableProps,ref:e.innerRef,className:"flex gap-x-3",children:[(null==i?void 0:i.length)>0&&(null==i?void 0:i.map((e,t)=>(0,s.jsx)(M,{list:e,index:t},e.id))),e.placeholder,(0,s.jsx)(A,{}),(0,s.jsx)("div",{className:"flex-shrink-0 w-1"})]})})})}},6929:function(e,t,r){"use strict";let s=r(8024).Z.create({timeout:5e4,headers:{"Content-Type":"application/json;charset=utf-8"}});s.interceptors.response.use(e=>e,e=>{var t;return Promise.reject((null==e?void 0:e.response)&&(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)||"Wrong Services")}),t.Z=s},2049:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(7090),a=r(9186);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[966,787,701,145,606,982,602,486,86,677,14,744],function(){return e(e.s=8157)}),_N_E=e.O()}]);